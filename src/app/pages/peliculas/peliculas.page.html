<ion-content>
<!-- Buscador de pel√≠culas externas -->
<ion-item>
  <ion-input [(ngModel)]="busqueda" placeholder="Buscar pel√≠culas..." (ionChange)="buscarPeliculas()"></ion-input>
</ion-item>

<div *ngIf="resultadosBusqueda.length">
  <h2>Resultados de b√∫squeda</h2>
  <ion-card *ngFor="let peli of resultadosBusqueda">
    <img *ngIf="peli.poster_path" [src]="'https://image.tmdb.org/t/p/w200' + peli.poster_path" alt="{{peli.title}}">
    <ion-card-header>
      <ion-card-title>{{ peli.title }}</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>{{ peli.overview }}</p>
      <p *ngIf="peli.vote_average">‚≠ê Calificaci√≥n: {{ peli.vote_average }}</p>
      <ion-button color="primary" (click)="agregarAMiLista({
        titulo: peli.title,
        descripcion: peli.overview,
        imagen: 'https://image.tmdb.org/t/p/w200' + peli.poster_path,
        calificacion: peli.vote_average
      })">Agregar a mi lista</ion-button>
    </ion-card-content>
  </ion-card>
</div>

  <!-- Secci√≥n principal de pel√≠culas -->
  <div class="peliculas-section">
    <h2>üì∫ Pel√≠culas</h2>
    <div class="peliculas-container">
      <div class="pelicula-card" *ngFor="let pelicula of peliculas">
        <img [src]="pelicula.imagen" alt="Imagen de {{pelicula.titulo}}" />
        <div class="info">
          <h3>{{ pelicula.titulo }}</h3>
          <p>‚≠ê {{ pelicula.calificacion }}</p>
          <button [routerLink]="['/resenas']">Rese√±ar</button>
          <button (click)="agregarAMiLista(pelicula)">Agregar a mi lista</button> 
        </div>
      </div>
    </div>
  </div>

  <!-- M√°s populares -->
  <div class="peliculas-section">
    <h2>üé¨ M√°s Populares</h2>
    <div class="peliculas-container">
      <div class="pelicula-card" *ngFor="let pelicula of populares">
        <img [src]="pelicula.imagen" alt="{{pelicula.titulo}}" />
        <div class="info">
          <h3>{{ pelicula.titulo }}</h3>
          <p>‚≠ê {{ pelicula.calificacion }}</p>
          <button [routerLink]="['/resenas']">Rese√±ar</button>
          <button (click)="agregarAMiLista(pelicula)">Agregar a mi lista</button> 
        </div>
      </div>
    </div>
  </div>

  <!-- Rom√°nticas -->
  <div class="peliculas-section">
    <h2>üíñ Rom√°nticas</h2>
    <div class="peliculas-container">
      <div class="pelicula-card" *ngFor="let pelicula of romanticas">
        <img [src]="pelicula.imagen" alt="{{pelicula.titulo}}" />
        <div class="info">
          <h3>{{ pelicula.titulo }}</h3>
          <p>‚≠ê {{ pelicula.calificacion }}</p>
          <button [routerLink]="['/resenas']">Rese√±ar</button>
          <button (click)="agregarAMiLista(pelicula)">Agregar a mi lista</button> 
        </div>
      </div>
    </div>
  </div>

  <!-- Terror -->
  <div class="peliculas-section">
    <h2>üëª Terror</h2>
    <div class="peliculas-container">
      <div class="pelicula-card" *ngFor="let pelicula of terror">
        <img [src]="pelicula.imagen" alt="{{pelicula.titulo}}" />
        <div class="info">
          <h3>{{ pelicula.titulo }}</h3>
          <p>‚≠ê {{ pelicula.calificacion }}</p>
          <button [routerLink]="['/resenas']">Rese√±ar</button>
          <button (click)="agregarAMiLista(pelicula)">Agregar a mi lista</button> 
        </div>
      </div>
    </div>
  </div>

</ion-content>

<ion-fab vertical="bottom" horizontal="end" slot="fixed">
  <ion-fab-button [routerLink]="['/mi-lista']" color="danger">
    <ion-icon name="list-outline"></ion-icon>
  </ion-fab-button>
</ion-fab>



