<ion-content>
  <!-- Buscador de series externas -->
<ion-item>
  <ion-input [(ngModel)]="busqueda" placeholder="Buscar series..." (ionChange)="buscarSeries()"></ion-input>
</ion-item>

<div *ngIf="resultadosBusqueda.length">
  <h2>Resultados de búsqueda</h2>
  <ion-card *ngFor="let serie of resultadosBusqueda">
    <img *ngIf="serie.poster_path" [src]="'https://image.tmdb.org/t/p/w200' + serie.poster_path" alt="{{serie.name}}">
    <ion-card-header>
      <ion-card-title>{{ serie.name }}</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>{{ serie.overview }}</p>
      <p *ngIf="serie.vote_average">⭐ Calificación: {{ serie.vote_average }}</p>
      <ion-button color="primary" (click)="agregarAMiLista({
        titulo: serie.name,
        descripcion: serie.overview,
        imagen: 'https://image.tmdb.org/t/p/w200' + serie.poster_path,
        calificacion: serie.vote_average
      })">Agregar a mi lista</ion-button>
    </ion-card-content>
  </ion-card>
</div>

  <!-- Sección general de series -->
  <div class="series-section">
    <h2>📺 Series</h2>
    <div class="peliculas-container">
      <div class="pelicula-card" *ngFor="let serie of series">
        <img [src]="serie.imagen" alt="Imagen de {{serie.titulo}}" />
        <div class="info">
          <h3>{{ serie.titulo }}</h3>
          <p>⭐ {{ serie.calificacion }}</p>
          <button [routerLink]="['/resenas']">Reseñar</button>
          <button (click)="agregarAMiLista(serie)">Agregar a mi lista</button> 
        </div>
      </div>
    </div>
  </div>

  <!-- Más populares -->
  <div class="series-section">
    <h2>🔥 Más Populares</h2>
    <div class="peliculas-container">
      <div class="pelicula-card" *ngFor="let serie of populares">
        <img [src]="serie.imagen" alt="{{serie.titulo}}" />
        <div class="info">
          <h3>{{ serie.titulo }}</h3>
          <p>⭐ {{ serie.calificacion }}</p>
          <button [routerLink]="['/resenas']">Reseñar</button>
          <button (click)="agregarAMiLista(serie)">Agregar a mi lista</button> 
        </div>
      </div>
    </div>
  </div>

  <!-- Románticas -->
  <div class="series-section">
    <h2>💖 Románticas</h2>
    <div class="peliculas-container">
      <div class="pelicula-card" *ngFor="let serie of romanticas">
        <img [src]="serie.imagen" alt="{{serie.titulo}}" />
        <div class="info">
          <h3>{{ serie.titulo }}</h3>
          <p>⭐ {{ serie.calificacion }}</p>
          <button [routerLink]="['/resenas']">Reseñar</button>
          <button (click)="agregarAMiLista(serie)">Agregar a mi lista</button> 
        </div>
      </div>
    </div>
  </div>

  <!-- Terror -->
  <div class="series-section">
    <h2>👻 Terror</h2>
    <div class="peliculas-container">
      <div class="pelicula-card" *ngFor="let serie of terror">
        <img [src]="serie.imagen" alt="{{serie.titulo}}" />
        <div class="info">
          <h3>{{ serie.titulo }}</h3>
          <p>⭐ {{ serie.calificacion }}</p>
          <button [routerLink]="['/resenas']">Reseñar</button>
          <button (click)="agregarAMiLista(serie)">Agregar a mi lista</button> 
        </div>
      </div>
    </div>
  </div>
</ion-content>

<ion-fab vertical="bottom" horizontal="end" slot="fixed">
  <ion-fab-button [routerLink]="['/mi-lista']" color="danger">
    <ion-icon name="list-outline"></ion-icon>
  </ion-fab-button>
</ion-fab>